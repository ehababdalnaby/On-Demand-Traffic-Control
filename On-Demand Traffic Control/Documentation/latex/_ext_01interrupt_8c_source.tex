\hypertarget{_ext_01interrupt_8c_source}{}\doxysection{Ext interrupt.\+c}
\label{_ext_01interrupt_8c_source}\index{MCAL/Ext interrupt driver/Ext interrupt.c@{MCAL/Ext interrupt driver/Ext interrupt.c}}
\mbox{\hyperlink{_ext_01interrupt_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00001}00001 \textcolor{comment}{/****************************************************************************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00002}00002 \textcolor{comment}{/*                                                          Author   : Ehab Omara                                                                   */}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00003}00003 \textcolor{comment}{/*                                                          Date     : 8/13/2022 4:40:08 AM                                                         */}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00004}00004 \textcolor{comment}{/*                                                          File name: Ext interrupt.c                                                              */}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00005}00005 \textcolor{comment}{/****************************************************************************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00008}00008 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_ext_01interrupt_8h}{Ext interrupt.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00009}\mbox{\hyperlink{group___e_x_t__interrupts_ga3bfc3fef7cc6c9f3b3f1f06e69f73d18}{00009}} \mbox{\hyperlink{group___e_x_t__interrupts_ga493ef6cf93614545b91e84ca93be54e5}{EN\_interruptError\_t}} \mbox{\hyperlink{group___e_x_t__interrupts_ga3bfc3fef7cc6c9f3b3f1f06e69f73d18}{Ext\_interruptInit}}(\mbox{\hyperlink{group___e_x_t__interrupts_ga6f5578f86f992a77c35692646fa107ec}{EN\_interruptNum\_t}} interruptNum,\mbox{\hyperlink{group___e_x_t__interrupts_gaec38d3d460aef86156513ecb22afe034}{EN\_interruptSenseControl\_t}} interruptSenseControl)}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00010}00010 \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00011}00011     \mbox{\hyperlink{group___e_x_t__interrupts_ga493ef6cf93614545b91e84ca93be54e5}{EN\_interruptError\_t}} interruptError = \mbox{\hyperlink{group___e_x_t__interrupts_gga493ef6cf93614545b91e84ca93be54e5ac9e167360127314cb469d1f384adecd7}{INT\_OK}};}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00012}00012     \textcolor{keywordflow}{if} (interruptNum == \mbox{\hyperlink{group___e_x_t__interrupts_gga6f5578f86f992a77c35692646fa107eca15eea8e66ea11820ade640821d84382d}{INT0}})}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00013}00013     \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00014}00014         \textcolor{comment}{//check if the value of the interruptSenseControl is correct}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00015}00015         \textcolor{keywordflow}{if} (interruptSenseControl >=  \mbox{\hyperlink{group___e_x_t__interrupts_ggaec38d3d460aef86156513ecb22afe034ab211cf14477a0a8c8a2d7a6c56d7a3ae}{LOW\_LEVEL}} \&\&interruptSenseControl <= \mbox{\hyperlink{group___e_x_t__interrupts_ggaec38d3d460aef86156513ecb22afe034a86445853271053ed37f404b9ca4fa434}{RISING\_EDGE}})}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00016}00016         \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00017}00017             \textcolor{comment}{//enable INT0}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00018}00018             \mbox{\hyperlink{group__bit__math_ga664dac99590ddf6e2d6277f65a4dae36}{setBit}}(\mbox{\hyperlink{group__int__registers_ga3e35f0f5ebfa96f116683e03fdd2d28e}{GICR}},\mbox{\hyperlink{group___e_x_t__interrupts_gga6f5578f86f992a77c35692646fa107eca15eea8e66ea11820ade640821d84382d}{INT0}});}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00019}00019             \textcolor{comment}{//clearing interruptSenseControl old value}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00020}00020             \mbox{\hyperlink{group__int__registers_ga1b5659537a1ba3f880a6e6cc6163d2cb}{MCUCR}}\&=(\string~(\mbox{\hyperlink{group___e_x_t__interrupts_ga6c080a79672a9b6426584f08f08e4115}{ISC00}}<<0x03));}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00021}00021             \textcolor{comment}{//setting interruptSenseControl new value}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00022}00022             \mbox{\hyperlink{group__int__registers_ga1b5659537a1ba3f880a6e6cc6163d2cb}{MCUCR}}|=interruptSenseControl<<\mbox{\hyperlink{group___e_x_t__interrupts_ga6c080a79672a9b6426584f08f08e4115}{ISC00}};}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00023}00023             \textcolor{comment}{//set INT0 pin as input}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00024}00024             \mbox{\hyperlink{group__bit__math_ga74336b8d3aa581c739e71ee937402a03}{clrBit}}(\mbox{\hyperlink{group__port__d_gae24189eeb3ce4bccd97d46e88f494e0a}{DDRD}},\mbox{\hyperlink{group___e_x_t__interrupts_ga792cc0eff3466f3d8417eba63af9fc15}{INT0\_PIN}});}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00025}00025         \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00026}00026         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00027}00027         \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00028}00028             interruptError = \mbox{\hyperlink{group___e_x_t__interrupts_gga493ef6cf93614545b91e84ca93be54e5ae7d91a1db1254f0a90e768a8cb70c8db}{WRONG\_SENSE\_CONTROL}};}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00029}00029         \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00030}00030     \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00031}00031     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (interruptNum == \mbox{\hyperlink{group___e_x_t__interrupts_gga6f5578f86f992a77c35692646fa107ecaf557cd0d786ab83c4771da6eea65727b}{INT1}})}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00032}00032     \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00033}00033         }
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00034}00034         \textcolor{comment}{//check if the value of the interruptSenseControl is correct}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00035}00035         \textcolor{keywordflow}{if} (interruptSenseControl >=  \mbox{\hyperlink{group___e_x_t__interrupts_ggaec38d3d460aef86156513ecb22afe034ab211cf14477a0a8c8a2d7a6c56d7a3ae}{LOW\_LEVEL}} \&\&interruptSenseControl <= \mbox{\hyperlink{group___e_x_t__interrupts_ggaec38d3d460aef86156513ecb22afe034a86445853271053ed37f404b9ca4fa434}{RISING\_EDGE}})}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00036}00036         \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00037}00037             \textcolor{comment}{//enable INT1}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00038}00038             \mbox{\hyperlink{group__bit__math_ga664dac99590ddf6e2d6277f65a4dae36}{setBit}}(\mbox{\hyperlink{group__int__registers_ga3e35f0f5ebfa96f116683e03fdd2d28e}{GICR}},\mbox{\hyperlink{group___e_x_t__interrupts_gga6f5578f86f992a77c35692646fa107ecaf557cd0d786ab83c4771da6eea65727b}{INT1}});}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00039}00039             \textcolor{comment}{//clearing interruptSenseControl old value}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00040}00040             \mbox{\hyperlink{group__int__registers_ga1b5659537a1ba3f880a6e6cc6163d2cb}{MCUCR}}\&=(\string~(0x03<<\mbox{\hyperlink{group___e_x_t__interrupts_ga6446f3ff2592c34eab76e6eb549a856f}{ISC10}}));}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00041}00041             \textcolor{comment}{//setting interruptSenseControl new value}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00042}00042             \mbox{\hyperlink{group__int__registers_ga1b5659537a1ba3f880a6e6cc6163d2cb}{MCUCR}}|=interruptSenseControl<<\mbox{\hyperlink{group___e_x_t__interrupts_ga6446f3ff2592c34eab76e6eb549a856f}{ISC10}};}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00043}00043             \textcolor{comment}{//set INT1 pin as input}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00044}00044             \mbox{\hyperlink{group__bit__math_ga74336b8d3aa581c739e71ee937402a03}{clrBit}}(\mbox{\hyperlink{group__port__d_gae24189eeb3ce4bccd97d46e88f494e0a}{DDRD}},\mbox{\hyperlink{group___e_x_t__interrupts_ga694e631e46ffc062993d01830be74cbb}{INT1\_PIN}});}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00045}00045         \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00046}00046         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00047}00047         \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00048}00048             interruptError = \mbox{\hyperlink{group___e_x_t__interrupts_gga493ef6cf93614545b91e84ca93be54e5ae7d91a1db1254f0a90e768a8cb70c8db}{WRONG\_SENSE\_CONTROL}};}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00049}00049         \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00050}00050     \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00051}00051     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (interruptNum == \mbox{\hyperlink{group___e_x_t__interrupts_gga6f5578f86f992a77c35692646fa107ecac982725fadf3a115b854a6ff2abaa137}{INT2}})}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00052}00052     \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00053}00053         }
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00054}00054         \textcolor{comment}{//check if the value of the interruptSenseControl is correct}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00055}00055         \textcolor{keywordflow}{if} (interruptSenseControl ==  \mbox{\hyperlink{group___e_x_t__interrupts_ggaec38d3d460aef86156513ecb22afe034ab88c132109a78c131815f270b8bef045}{FALLING\_EDGE}} )}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00056}00056         \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00057}00057             \textcolor{comment}{//enable INT1}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00058}00058             \mbox{\hyperlink{group__bit__math_ga664dac99590ddf6e2d6277f65a4dae36}{setBit}}(\mbox{\hyperlink{group__int__registers_ga3e35f0f5ebfa96f116683e03fdd2d28e}{GICR}},\mbox{\hyperlink{group___e_x_t__interrupts_gga6f5578f86f992a77c35692646fa107ecac982725fadf3a115b854a6ff2abaa137}{INT2}});}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00059}00059             \mbox{\hyperlink{group__bit__math_ga74336b8d3aa581c739e71ee937402a03}{clrBit}}(\mbox{\hyperlink{group__int__registers_gab3032d9b747c08638c2a7ea0633c05e2}{MCUCSR}},\mbox{\hyperlink{group___e_x_t__interrupts_ga55fb1f41ee9f0aeb248ae8682d29cfbb}{ISC2}});}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00060}00060             \textcolor{comment}{//set INT2 pin as input}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00061}00061             \mbox{\hyperlink{group__bit__math_ga74336b8d3aa581c739e71ee937402a03}{clrBit}}(\mbox{\hyperlink{group__port__b_ga924a54df722121bc98383bdec5ae1898}{DDRB}},\mbox{\hyperlink{group___e_x_t__interrupts_gae3b068b847930dee391ba5256f9c8f94}{INT2\_PIN}});}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00062}00062         \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00063}00063         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(interruptSenseControl == \mbox{\hyperlink{group___e_x_t__interrupts_ggaec38d3d460aef86156513ecb22afe034a86445853271053ed37f404b9ca4fa434}{RISING\_EDGE}})}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00064}00064         \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00065}00065             \textcolor{comment}{//enable INT1}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00066}00066             \mbox{\hyperlink{group__bit__math_ga664dac99590ddf6e2d6277f65a4dae36}{setBit}}(\mbox{\hyperlink{group__int__registers_ga3e35f0f5ebfa96f116683e03fdd2d28e}{GICR}},\mbox{\hyperlink{group___e_x_t__interrupts_gga6f5578f86f992a77c35692646fa107ecac982725fadf3a115b854a6ff2abaa137}{INT2}});}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00067}00067             \mbox{\hyperlink{group__bit__math_ga664dac99590ddf6e2d6277f65a4dae36}{setBit}}(\mbox{\hyperlink{group__int__registers_gab3032d9b747c08638c2a7ea0633c05e2}{MCUCSR}},\mbox{\hyperlink{group___e_x_t__interrupts_ga55fb1f41ee9f0aeb248ae8682d29cfbb}{ISC2}});}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00068}00068             \textcolor{comment}{//set INT2 pin as input}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00069}00069             \mbox{\hyperlink{group__bit__math_ga74336b8d3aa581c739e71ee937402a03}{clrBit}}(\mbox{\hyperlink{group__port__b_ga924a54df722121bc98383bdec5ae1898}{DDRB}},\mbox{\hyperlink{group___e_x_t__interrupts_gae3b068b847930dee391ba5256f9c8f94}{INT2\_PIN}});}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00070}00070         \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00071}00071         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00072}00072         \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00073}00073             interruptError = \mbox{\hyperlink{group___e_x_t__interrupts_gga493ef6cf93614545b91e84ca93be54e5ae7d91a1db1254f0a90e768a8cb70c8db}{WRONG\_SENSE\_CONTROL}};}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00074}00074         \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00075}00075     \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00076}00076     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00077}00077     \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00078}00078         interruptError = \mbox{\hyperlink{group___e_x_t__interrupts_gga493ef6cf93614545b91e84ca93be54e5a153f500f487c261f627f4b169de0991b}{WRONG\_INT\_NUM}};}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00079}00079     \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00080}00080     \textcolor{keywordflow}{if} (interruptError == \mbox{\hyperlink{group___e_x_t__interrupts_gga493ef6cf93614545b91e84ca93be54e5ac9e167360127314cb469d1f384adecd7}{INT\_OK}})}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00081}00081     \{}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00082}00082         \textcolor{comment}{//enable global interrupt}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00083}00083         \mbox{\hyperlink{group__avr__interrupts_gaad5ebd34cb344c26ac87594f79b06b73}{sei}}();}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00084}00084     \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00085}00085     \textcolor{keywordflow}{return} interruptError;}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00086}00086 \}}
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00087}00087 }
\DoxyCodeLine{\Hypertarget{_ext_01interrupt_8c_source_l00088}00088 }

\end{DoxyCode}
